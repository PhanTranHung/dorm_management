<div class="layout-content">
  <div class="row">
    <div class="col">
      <canvas id="bill"></canvas>
    </div>

    <div class="col">
      <canvas id="popular"></canvas>
    </div>
  </div>

  <div class="container-fluid">
    <% data.rooms.floors.forEach(floor=> {%>
    <div class="f-line">
      <div>Tầng: <%= floor.id %></div>
      <div class="d-flex">
        <% floor.rooms.forEach(room=> { %>
        <div
          class="f-item flex-fill rounded <% if (room.number) { %> bg-light <% } else { %> bg-disabled <% } %>"
        >
          <div class="box">
            <div class="box-category">
              <span class="box-title"> <%= floor.id + "-" +room.id %> </span>
            </div>
            <div class="box-body">
              <hr />
              <div class="box-title-large text-center">
                <%= room.number %>/<%= room.total %>
              </div>
            </div>
          </div>
          <% });%>
        </div>
      </div>
      <%}); %>
    </div>
  </div>
</div>

<script>
  const color = { red: 'rgb(255, 99, 132)', blue: 'rgb(54, 162, 235)' };

  var lineChartData = {
    labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
    datasets: [
      {
        label: 'Số điện',
        borderColor: color.red,
        backgroundColor: color.red,
        fill: false,
        data: [96, 72, 53, 98, 105, 110, 86],
        yAxisID: 'y-axis-1',
      },
      {
        label: 'Số nước',
        borderColor: color.blue,
        backgroundColor: color.blue,
        fill: false,
        data: [25, 30, 26, 28, 32, 31, 20],
        yAxisID: 'y-axis-1',
      },
    ],
  };

  window.onload = function () {
    var ctx = document.getElementById('bill').getContext('2d');
    window.myLine = Chart.Line(ctx, {
      data: lineChartData,
      options: {
        responsive: true,
        hoverMode: 'index',
        stacked: false,
        title: {
          display: true,
          text: 'Lượng điện - nước đã sử dụng',
        },
        scales: {
          yAxes: [
            {
              type: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance
              display: true,
              position: 'left',
              id: 'y-axis-1',
            },
            // {
            //   type: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance
            //   display: true,
            //   position: 'right',
            //   id: 'y-axis-2',

            //   // grid line settings
            //   gridLines: {
            //     drawOnChartArea: false, // only want the grid lines for one axis to show up
            //   },
            // },
          ],
        },
      },
    });
  };
</script>
